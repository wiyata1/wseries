<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dailymotion Playlist</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  width: 100%;
  height: 100%;
}

#player {
  width: 100%;
  height: 100%;
  border: 0;
}
</style>
</head>

<body>

<iframe
  id="player"
  allowfullscreen
  webkitallowfullscreen>
</iframe>

<script>
(function () {

  var xhr = new XMLHttpRequest();
  xhr.open('GET', 'playlist.txt', true);

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {

        var text = xhr.responseText.replace(/\r/g, '').trim();
        var lines = text.split('\n');

        if (lines.length === 0 || lines[0] === '') {
          alert('Playlist vac√≠a');
          return;
        }

        // Tomamos la PRIMERA playlist
        var url = lines[0].trim();

        // Extraer ID
        var parts = url.split('/');
        var playlistId = parts[parts.length - 1];

        // Cargar playlist
        document.getElementById('player').src =
          'https://www.dailymotion.com/embed/playlist/' + playlistId;

      } else {
        alert('No se pudo cargar playlist.txt');
      }
    }
  };

  xhr.send(null);

})();
</script>

</body>
</html>
